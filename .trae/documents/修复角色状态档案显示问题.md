## 问题分析

当前配置接口存在以下问题：
1. 支持的模型数量有限，缺少Claude等大厂模型
2. 模型选择与baseUrl配置分离，用户需要手动填写baseUrl
3. 没有模型分组，用户选择不便
4. 缺少对不同模型提供商的明确区分
5. 用户体验可以进一步优化，例如自动填充baseUrl

## 修复方案

1. **扩展ApiConfig类型**：
   - 添加provider字段区分不同API提供商
   - 优化类型定义，提高代码可维护性

2. **修改ConfigModal组件**：
   - 添加模型提供商选择
   - 实现根据模型自动填写baseUrl
   - 扩展模型列表，添加更多大厂模型
   - 实现模型分组显示
   - 优化UI，提供更友好的设置体验

3. **优化模型选择逻辑**：
   - 根据provider自动设置baseUrl
   - 提供常用模型的快速选择
   - 支持自定义模型配置

## 具体修改点

### 1. 修改types.ts
**文件**：`d:\trae\deepstory-build\types.ts`
**修改**：扩展ApiConfig类型，添加provider字段

```typescript
export interface ApiConfig {
  provider: 'google' | 'openai' | 'claude' | 'deepseek' | 'custom';
  baseUrl: string;
  apiKey: string;
  textModel: string;
  customTextModel?: string;
}
```

### 2. 修改ConfigModal组件
**文件**：`d:\trae\deepstory-build\components\Modals.tsx`
**修改**：
- 添加provider选择器
- 扩展模型列表，添加Claude等模型
- 实现根据provider自动填写baseUrl
- 优化UI布局，分组显示模型
- 添加模型描述，提高用户体验

### 3. 优化模型预设
**修改**：
- 为不同provider设置默认baseUrl
- 扩展模型列表，添加更多大厂模型
- 实现模型分组，方便用户选择

### 4. 优化用户体验
**修改**：
- 添加模型描述信息
- 实现自动填充baseUrl
- 优化表单验证
- 添加更多默认模型选项

## 预期效果

- 用户可以方便地选择不同的模型提供商（Google, OpenAI, Claude等）
- 根据选择的提供商自动填写对应的baseUrl
- 支持多种大厂官方模型，包括Claude
- 支持第三方OpenAI兼容模型
- 模型分组显示，方便用户选择
- 优化的UI体验，填写API密钥即可使用

## 技术实现

```typescript
// 模型预设配置
const MODEL_PRESETS = {
  google: {
    baseUrl: 'https://generativelanguage.googleapis.com',
    models: [
      { value: 'gemini-2.5-flash', label: 'Google Gemini 2.5 Flash (稳定版)' },
      { value: 'gemini-3-pro-preview', label: 'Google Gemini 3.0 Pro (高智商版)' }
    ]
  },
  openai: {
    baseUrl: 'https://api.openai.com',
    models: [
      { value: 'gpt-4o', label: 'OpenAI GPT-4o' },
      { value: 'gpt-3.5-turbo', label: 'OpenAI GPT-3.5 Turbo' }
    ]
  },
  claude: {
    baseUrl: 'https://api.anthropic.com',
    models: [
      { value: 'claude-3-opus-20240229', label: 'Claude 3 Opus' },
      { value: 'claude-3-sonnet-20240229', label: 'Claude 3 Sonnet' }
    ]
  },
  deepseek: {
    baseUrl: 'https://api.deepseek.com',
    models: [
      { value: 'deepseek-chat', label: 'DeepSeek Chat' },
      { value: 'deepseek-coder', label: 'DeepSeek Coder' }
    ]
  },
  custom: {
    baseUrl: '',
    models: [
      { value: 'custom', label: '自定义 (OpenAI兼容)' }
    ]
  }
};
```

## 验证结果

- 扩展后的配置接口支持多种大厂模型
- 根据模型提供商自动填写baseUrl
- 模型分组显示，方便用户选择
- 支持自定义模型配置
- 优化的UI体验，提高用户使用便捷性