1. **问题分析**：
   - 当用户在PromptEditorModal中切换提示词类型（如从首章创作切换到后续章节）时，只有模板提示词更新
   - 完整提示词没有更新，仍然显示首章的完整提示词
   - 根本原因是fullPrompt只在handleShowPrompt函数中设置，切换提示词时不会重新调用该函数

2. **修复方案**：
   - 在App.tsx中添加useEffect，监听editingPromptKey的变化
   - 当editingPromptKey变化时，重新生成完整提示词
   - 确保切换提示词时，完整提示词能正确更新

3. **实现步骤**：
   - 修改App.tsx文件，添加useEffect监听editingPromptKey变化
   - 在useEffect中调用完整提示词生成逻辑
   - 保持与handleShowPrompt函数相同的生成逻辑
   - 测试修复后的功能是否正常

4. **预期效果**：
   - 切换提示词类型时，模板提示词和完整提示词都会更新
   - 用户能看到对应提示词类型的完整AI指令
   - 保持原有功能的完整性

这个方案将确保切换提示词时完整提示词能正确更新，提高用户体验和功能完整性。